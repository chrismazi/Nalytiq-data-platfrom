# ============================================
# NALYTIQ DATA PLATFORM - PRODUCTION CONFIGURATION
# ============================================
# Copy this file to .env and configure for your environment
# NEVER commit .env to version control!

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=production
DEBUG=false
TESTING=false

# Application
APP_NAME=Nalytiq Data Platform
APP_VERSION=1.0.0

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# ============================================
# DATABASE (PostgreSQL)
# ============================================
USE_SQLITE=false
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=nalytiq
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=nalytiq_db

# Connection Pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# ============================================
# REDIS
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SSL=false
CACHE_TTL=3600

# ============================================
# SECURITY
# ============================================
# IMPORTANT: Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your_64_character_secret_key_here_generate_with_secrets_module

# JWT
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password
PASSWORD_HASH_ROUNDS=12

# CORS - Update with your production domains
CORS_ORIGINS=["https://nalytiq.gov.rw","https://api.nalytiq.gov.rw"]
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ============================================
# CELERY (Background Tasks)
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TIMEZONE=Africa/Kigali
CELERY_TASK_TIME_LIMIT=3600

# ============================================
# STORAGE
# ============================================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE_MB=100

# S3-Compatible Storage (MinIO/AWS)
USE_S3=false
S3_ENDPOINT=https://s3.amazonaws.com
S3_ACCESS_KEY=your_access_key
S3_SECRET_KEY=your_secret_key
S3_BUCKET=nalytiq-data
S3_REGION=eu-west-1

# ============================================
# MACHINE LEARNING
# ============================================
MODEL_DIR=./models
MAX_TRAINING_TIME=3600
DEFAULT_CV_FOLDS=5

# TensorFlow
TF_CPP_MIN_LOG_LEVEL=2

# ============================================
# MONITORING & LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================
# X-ROAD INFRASTRUCTURE
# ============================================
XROAD_INSTANCE=RW
XROAD_MEMBER_CLASS=GOV
XROAD_SECURITY_SERVER_URL=

# PKI
PKI_KEY_SIZE=2048
PKI_CERT_VALIDITY_DAYS=365
PKI_CA_SUBJECT=CN=R-NDIP Root CA,O=NISR,C=RW

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_DOCS=true
ENABLE_WEBSOCKETS=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_ML_TRAINING=true
ENABLE_XROAD=true

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================
# Email (SendGrid)
SENDGRID_API_KEY=

# AI/LLM (Google Gemini)
GOOGLE_API_KEY=

# SMS Gateway
SMS_GATEWAY_URL=
SMS_GATEWAY_API_KEY=
